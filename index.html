<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pocari Sweat Insight Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="shell">
      <section class="entry-screen" aria-labelledby="entry-title">
        <div class="entry-copy">
          <p class="eyebrow">Doc-to-form builder</p>
          <h1 id="entry-title">Upload a formatted brief, launch a focused form</h1>
          <p>
            Skip OCR entirely. The uploader expects structured PDF, DOC, DOCX, or
            TXT files, reads headings + bullet blocks, and mirrors that order in
            the form. If a layout ever slips, a lightweight GPT-5 nano fallback
            polishes just the wording—no auto-answering or hallucinated content.
          </p>
          <ul class="entry-points">
            <li>Clean parsing pipeline tuned for the Pocari questionnaire.</li>
            <li>Question metadata (type + options) is hard-coded for reliability.</li>
            <li>Every run spawns a unique share link that pipes to Google Sheets.</li>
          </ul>
        </div>
        <div class="entry-panel">
          <label class="upload-chip">
            <input id="brief-upload" type="file" accept=".pdf,.doc,.docx,.txt" />
            <span>Upload PDF / DOC / TXT</span>
          </label>
          <p class="file-hint">Max 25 MB · formatted briefs only.</p>
          <div class="entry-status">
            <article>
              <p class="label">Primary parser</p>
              <p class="value">Structured doc ingestion</p>
              <p class="note">Keeps the author’s bucket order, no AI rewriting.</p>
            </article>
            <article>
              <p class="label">Fallback</p>
              <p class="value">GPT-5 nano</p>
              <p class="note">Only cleans broken numbering or typography.</p>
            </article>
          </div>
          <button class="primary" data-action="generate-form" disabled>
            Generate workspace
          </button>
        </div>
      </section>

      <section class="workspace is-idle" aria-live="polite">
        <header class="masthead">
          <div class="intro-block">
            <p class="eyebrow">The Pocari Perspective</p>
            <h1>Guided questionnaire workspace</h1>
            <p>
              Upload the official brief once, then walk through one bucket at a
              time. Answers autosave locally, sync to a Sheet via the share link,
              and the generated URL can be passed around for approvals.
            </p>
          </div>
          <div class="status-panel">
            <div class="session-bar">
              <div>
                <p class="label">Uploaded brief</p>
                <p class="session-file">Awaiting upload…</p>
              </div>
              <div>
                <p class="label">Sheet sync</p>
                <p class="sheet-status">Link will activate after parsing.</p>
              </div>
              <div>
                <p class="label">Autosave</p>
                <p class="autosave-state">Idle</p>
              </div>
            </div>
            <div class="share-card">
              <div>
                <p class="label">Shareable link</p>
                <p class="share-link">Generate a link by uploading a doc.</p>
              </div>
              <button class="ghost" data-action="copy-link" disabled>
                Copy link
              </button>
            </div>
            <p class="panel-note">
              The generated link is what your teammates will use to respond. It
              automatically stores future responses to the connected Google
              Sheet, so you never touch a spreadsheet manually.
            </p>
          </div>
        </header>

        <section class="workspace-grid">
          <div class="question-deck">
            <div class="progress-track">
              <span class="progress-label"></span>
              <div class="progress-bar">
                <div class="progress-bar__fill"></div>
              </div>
            </div>

            <article class="question-card">
              <div class="part-meta">
                <p class="part-title"></p>
                <p class="part-context"></p>
              </div>
              <h2 class="question-text"></h2>
              <div class="response-field"></div>
              <div class="question-footer">
                <button class="ghost" data-action="bookmark">Bookmark</button>
                <span class="bookmark-note">Use bookmarks to revisit later.</span>
              </div>
            </article>

            <div class="nav-controls">
              <button class="ghost" data-action="previous" disabled>
                Previous
              </button>
              <button class="primary" data-action="next" disabled>
                Next question
              </button>
            </div>
          </div>

          <aside class="bucket-panel" aria-label="Bucket progress map">
            <div class="bucket-header">
              <h3>Bucket navigator</h3>
              <p>Jump to any section or skim completion stats instantly.</p>
            </div>
            <ol class="bucket-list"></ol>
            <div class="helper-card">
              <p class="helper-title">Parsing approach</p>
              <p>
                The uploader honors the provided structure first. GPT-5 nano is a
                last resort just to tidy text if formatting arrives broken.
              </p>
              <p>
                Question metadata (type + dropdown options) lives in code, so
                you always know what input your team will see.
              </p>
            </div>
          </aside>
        </section>
      </section>
    </main>
    <script src="script.js"></script>
  </body>
</html>
